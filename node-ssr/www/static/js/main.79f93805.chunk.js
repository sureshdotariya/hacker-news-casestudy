(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{189:function(e,t,n){e.exports=n(385)},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(31),o=n.n(c),l=n(37),s=n(20),u=n(36),i=n(88),m=n.n(i),d=n(144);function E(e){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw n=e.sent,new Error(n);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){throw console.error("API call failed. "+e),e}var h=n(158),w=(n(199),n(159)),v=(n(200),function(e){var t=e.record,n=e.upVote,a=e.downVote;return r.a.createElement("tr",{className:"news-item"},r.a.createElement("td",null,t.comments.length),r.a.createElement("td",null,t.votes),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:function(){return n(t.id)},className:"anchor-link"},"Up")),r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:function(){return a(t.id)},className:"anchor-link"},"Down"))),r.a.createElement("td",null,t.title," ",r.a.createElement("span",null,"(",t.site,") by ",t.author)))}),b=function(e){var t=e.news,n=Object(h.a)(e,["news"]),a=n.pageno,c=n.recordDisplay,o=n.updatePage,l=t.slice((a-1)*c,a*c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"news-list"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Comments"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Vote"),r.a.createElement("th",null,"News Details"))),r.a.createElement("tbody",null,l&&l.map((function(e){return r.a.createElement(v,Object.assign({key:e.id,record:e},n))})))),r.a.createElement("div",{className:"pagination-row"},1!==a&&r.a.createElement("a",{href:"#",onClick:function(){return o("prev")},className:"anchor-link"},"Prev"),a<t.length/c&&r.a.createElement("a",{href:"#",onClick:function(){return o("next")},className:"anchor-link"},"Next")))},N=(n(201),{loadNews:function(){return function(e){return fetch("/stubs/news.json").then(E).catch(f).then((function(t){e(function(e){return{type:"NEWS_LIST_SUCCESS",news:e}}(t.data))})).catch((function(t){e({type:"NEWS_LIST_ERROR",err:t})}))}},downVote:function(e){return{type:"NEWS_DOWN_VOTE",id:e}},upVote:function(e){return{type:"NEWS_UP_VOTE",id:e}},updatePage:function(e){return{type:"NEWS_PAGE_NUM",accesstype:e}}}),g=Object(u.b)((function(e){return{newsList:e.news.data?e.news.data:[],pageno:e.news.pageno,recordDisplay:e.news.recordDisplay}}),N)((function(e){var t=e.newsList,n=e.pageno,c=e.recordDisplay,o=e.loadNews,l=e.upVote,s=e.downVote,u=e.updatePage;return console.log(t),Object(a.useEffect)((function(){o()}),[]),r.a.createElement("div",{className:"homepage-container"},t&&r.a.createElement(b,{news:t,upVote:l,downVote:s,updatePage:u,pageno:n,recordDisplay:c}))}));n(202);function O(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("h2",null,r.a.createElement(l.b,{to:"/home"}," Welcome to Hacker News")),r.a.createElement("div",{className:"menu-list"},r.a.createElement("div",{className:"menu-item"},r.a.createElement(l.b,{to:"/home"},"Home")),r.a.createElement("div",{className:"menu-item"},r.a.createElement(l.b,{to:"/chart"},"View Chart"))))}var y=n(19),_=n(147),S=n.n(_),k=n(63),j=n(22),V=function(e,t,n){if(!e||!t)return[];var a="up"===n;return e.map((function(e){return e.id===t?Object(j.a)({},e,{votes:a?e.votes+1:e.votes-1}):e}))},D={data:[],error:"",pageno:1,recordDisplay:5},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEWS_LIST_SUCCESS":return Object(j.a)({},e,{data:Object(k.a)(t.news)});case"NEWS_UP_VOTE":var n=V(e.data,t.id,"up");return Object(j.a)({},e,{data:Object(k.a)(n)});case"NEWS_DOWN_VOTE":var a=V(e.data,t.id,"down");return Object(j.a)({},e,{data:Object(k.a)(a)});case"NEWS_PAGE_NUM":return Object(j.a)({},e,{pageno:"next"===t.accesstype?e.pageno+1:e.pageno-1});case"NEWS_LIST_ERROR":return Object(j.a)({},e,{data:[],error:t.error});default:return e}},W=Object(y.c)({news:C}),P=n(148),x=n.n(P),L=[n(149).a,S.a,x()()],T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,I=Object(y.e)(W,T(y.a.apply(void 0,L))),U=(n(208),n(209),n(25)),R=Object(u.b)((function(e){return{newsList:e.news.data?e.news.data:[]}}),null)((function(e){var t=e.newsList;return console.log(t),r.a.createElement("div",{className:"chartpage-container"},r.a.createElement(U.c,{width:700,height:600,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(U.a,{strokeDasharray:"3 3"}),r.a.createElement(U.e,{dataKey:"id",label:{value:"ID",position:"insideBottomCenter",dy:10}}),r.a.createElement(U.f,{label:{value:"Votes",position:"insideLeft",angle:-90,dy:-10}}),r.a.createElement(U.d,null),r.a.createElement(U.b,{type:"monotone",dataKey:"votes",stroke:"#82ca9d"})))})),A=function(){return r.a.createElement(u.a,{store:I},r.a.createElement(l.a,null,r.a.createElement(O,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:g}),r.a.createElement(s.a,{path:"/home",component:g}),r.a.createElement(s.a,{path:"/chart",component:R}))))};o.a.render(r.a.createElement(A,null),document.getElementById("root")),console.log("production")}},[[189,1,2]]]);
//# sourceMappingURL=main.79f93805.chunk.js.map